# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

GET     /login/:name/redirect       @controllers.AuthController.login(name)
POST    /logout                     @controllers.AuthController.logout
POST    /auth/callback              @controllers.AuthController.callback
GET     /public-keys                @controllers.AuthController.publicKeys

GET     /users/current              @controllers.UserController.currentUser
GET     /users/:id                  @controllers.UserController.get(id)

# Map static resources from the /public folder to the /assets URL path
GET     /favicon.ico                controllers.Assets.at(path="/public", file="images/favicon.ico")
GET     /assets/*file               controllers.Assets.versioned(path="/public", file: Asset)
GET     /webjars/*file              controllers.WebJarAssets.at(file)

# Home page
GET     /                           @controllers.Application.main(path="")
GET     /login                      @controllers.Application.main(path="login")
GET     /waiting                    @controllers.Application.waiting

# Compute Nodes
GET     /compute-nodes              @controllers.ComputeNodeController.index
POST    /compute-nodes              @controllers.ComputeNodeController.create
PUT     /compute-nodes/:id          @controllers.ComputeNodeController.update(id)
DELETE  /compute-nodes/:id          @controllers.ComputeNodeController.delete(id)
# Compute Nodes - tokens
POST    /compute-nodes/:id/redeem-token @controllers.ComputeNodeController.redeemToken(id, code)
POST    /compute-nodes/:id/tokens       @controllers.ComputeNodeController.createToken(id)
GET     /compute-nodes/:id/tokens       @controllers.ComputeNodeController.listTokens(id)
DELETE  /compute-nodes/:id/tokens/:code @controllers.ComputeNodeController.deleteToken(id, code)
# Compute Nodes - owners
GET     /compute-nodes/:nodeId/owners           @controllers.ComputeNodeController.listOwners(nodeId)
DELETE  /compute-nodes/:nodeId/owners/:userId   @controllers.ComputeNodeController.removeOwner(nodeId, userId)
# Compute Nodes - users
GET     /compute-nodes/:nodeId/users            @controllers.ComputeNodeController.listUsers(nodeId)
DELETE  /compute-nodes/:nodeId/users/:userId    @controllers.ComputeNodeController.removeUser(nodeId, userId)

# Containers
GET     /containers                 @controllers.ContainerController.index
GET     /containers/check-new       @controllers.ContainerController.checkNewName(name: String)
POST    /containers                 @controllers.ContainerController.create
PUT     /containers/:id             @controllers.ContainerController.update(id)
DELETE  /containers/:id             @controllers.ContainerController.delete(id)
